		Tasks
**********************************************
04.10.15 DS changes:
	- COMMON: 7 (already announced),11
	- Deskside: 4, 11
**********************************************

1_new printing setup...

3_DS1.6.13
	- netboot sets that will have to be rebuilt:
		- 10.7 deskside
		- 10.10.3 both

4_10.10.2 netboot set for 2015 mba+mbp
	=> apple forked the OS 
	=> solution: 10.10.3
		=> temp solution: special netboot set, and thin-imaging workflow
		* mba7.2.ONLY-Sign-InRequiredNB10.10.2.nbi
			* get mba back from Lou/Patrick => NOPE
			* get mba from Ron
				* run thin-imaging workflow
				* notify Ron to pickup
		- push to nms6
		- Deskside thin-imaging workflow
			- "Brand New Machines ONLY"
			* desksideThinImageConfigure.sh & desksideThinImageConfigure-postActions.sh
			* /Files/Deskside/Yosemite...
		- rename nbi to deskside yosemite pattern

5_Server work
	- new nms1/6 setup on KVM => how about headless hdmi plugins instead?
	- request server moves for nms8/9 (poly and ?)

6_/Library/StartupItems/refreshASUuser
	- overhaul to match logoutScriptLoader-refreshASUuser.sh behavior (functions for ungraceful logout)

7_Camtasia
	- update logoutScriptLoader-refreshASUuser.sh => push out

8_Dev,Deskside, and more software automation
	- add server manifest
		- keep software up-to-date on which servers?
	- munkireport and FV2?
		- OR something like https://github.com/grahamgilbert/Crypt
		- OR https://derflounder.wordpress.com/2013/04/29/filevault-setup-app-local-filevault-2-encryption-setup-and-enforcement/
		- test key escrow
			=> doesn't auto-upload key info to munkireport, just on/off
			* make/implement key escrow? => Casper do this stuff, unless axed

	- general-setupMunki.sh, commonImageConfigure.sh, commonImageConfigure-copyMunki.sh can go into production
		=> general-setupMunki.sh can be included in Common workflows
		=> don't push desksideImageConfigure.sh or desksideImageConfigure-copyMunki.sh
			- there's not a good check against use outside of dev
			- for that reason DON'T make deskside workflows call munki scripts outside of Weasel Test workflow(s)
		=> add exception for imagebuilder under cpcom358 heading

10_What to do with Xserves?
	- server setup automation
		- what to use?
			- script, Chef, Puppet, etc.?
			- how about Munki? run-once?
	- macnms 8/9
	- tech studio?
		- what hardware?
		- how to isolate network interfaces
		- needs
		- separate tech studio DS group
		- separate tech studio workflow(s)
	- 2nd server for Poly?
		- mod to Netboot Helper
			- Poly 1, Poly 2
			- Tempe 1, Tempe 2
			- $campus 2, other than COMMON selection go to $campus Deskside server
		- can two multicasts sessions coexist on Poly's flat network?
		- (2) more OS X Server licenses?
		- replace boot drives with SSDs
		- add 3rd drive (1TB spinning platter, full backup of data drive + boot drive backup)
		- stagger DS syncing times

11_Logical volume check for DS workflows
	- what workflow(s)?
		- Deskside:
			- Prep for Salvage
		- COMMON:
			- Full Monty
			- Full Monty -- prompt
			- Full Monty Win Eng
			- Full Monty Win Eng -- prompt
			- Mac OS X
			- Mac OS X -- prompt
			- HAL 9000 JUST Monty
			- HAL 9000 Mac OS X
			- General Prep for Salvage
			- Multicast Mac OS X
			- Multicast Mac OS X -- prompt
			- Testbed Just Monty -- prompt
			- Testbed Mac OS X
			- Testbed Mac OS X -- prompt
	* general-checkForLVG.sh
		* cases:
			=> Common
				* CS hd
				* non-CS hd

13_Bootpicker and Yosemite
	- alternatives?
		- BootRunner?
			- cost: $3500 OR $7000 that includes 2 yrs upgrades/maintenance
			- components:
				- package installer from vendor
				- file locations
					- /Library/Preferences/com.twocanoes.bootrunner.plist
					- desktop background
					- /Library/LaunchAgents/com.twocanoes.bootrunner.plist
					- /Library/PreferencePanes/"Boot Runner".prefpane

14_Yosemite COMMON image
	- check login/logout hooks + our other config junk
	- things that don't work...
		- setup assistant (/var/db/.AppleSetupDone) is still not being written/kept & skip the icloud setup/diagnostics screens
			=> update scripts with rtrouton's script
				osvers=$(sw_vers -productVersion | awk -F. '{print $2}')
				sw_vers=$(sw_vers -productVersion)
				sw_build=$(sw_vers -buildVersion)
				/usr/bin/defaults write "${USER_HOME}"/Library/Preferences/com.apple.SetupAssistant DidSeeCloudSetup -bool TRUE
    				/usr/bin/defaults write "${USER_HOME}"/Library/Preferences/com.apple.SetupAssistant GestureMovieSeen none
    				/usr/bin/defaults write "${USER_HOME}"/Library/Preferences/com.apple.SetupAssistant LastSeenCloudProductVersion "${sw_vers}"
    				/usr/bin/defaults write "${USER_HOME}"/Library/Preferences/com.apple.SetupAssistant LastSeenBuddyBuildVersion "${sw_build}"
		* Yahoo Messenger => remove
		* bootpicker => remove
		- CheatSheet needs to be enabled in System Preferences > Accessibility
		- Chess asks about 1.2GB download for speech
		- update to Lockdown Browser
		- Maps barks about privacy setting using your location
		- Sketchup license (and stuff from jan15 fixme)
		- com.apple.notificationcenterui.agent is loaded in launchctl
		- can we reset cfprefsd at logout? benefit?
			- what about migrating prefs to a) profile b) defaults c) combination?
		
15_Make new Yosemite vanilla image
	- 10.10.3 when released
	- push into production

16_ELK stack on OSX (macmgmt.inre.asu.edu)
	* feed DS logs
		-https://github.com/driskell/log-courier
		- OR launchdaemon that calls a simple script that does the work?
			- need agent that runs on servers to check for new files;
			- at specified time, upload to macmgmt
				- add maclogs user to macmgmt, access DSLogs folder
				- after logs are duplicated on macmgmt, move to "uploaded" folder on local server
				- how about at 11p every night
	* queries?
		=> what about feeding our custom-made logs (flags) into ELK?
			* initial test feeding logstash this file ( macnms7-aecp-ecanx-111-e01-D25KJ1U4DNMP-1211 ) with logstashTestConfig.conf
			* modify logImaging.sh script to do csv of values
				=> need the date command to do this:  `date -u +"%Y-%m-%d%H:%M:%SZ"
				=> need to strip special characters from workflow names
				* use "," instead of "-"
			- convert old logs to new format
				=> oldLogDataTransform.sh
				* modify logging in logImaging.sh
***				- push new logImaging.sh to production
			* develop filter for syntax (use csv, example at: http://blog.trifork.com/2014/01/28/using-logstash-elasticsearch-and-kibana-to-monitor-your-video-card-a-tutorial/ )
			* ? need agent on macmgmt to import new stuff into ELK, or does ELK auto-update/import => ELK -can- autoimport if running

17_Deskside workflows CoreStorage volume selection
	* if no volume auto-specified, does imaging still function? => NO
	* if no volume auto-specified, AND no volume auto-assigned as boot volume, does imaging still function? => YES, sometimes
	- What workflows to modify?
		=> 10.10 Yosemite
		=> 10.9 Mavericks
		*=> Fusion Drive 10.10 Yosemite
